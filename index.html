<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HRB Auction Assist — Assistant Mode</title>
  <style>
    :root { --bg:#0b1220; --card:#0f172a; --muted:#94a3b8; --line:#1f2937; --pill:#0b1328; --text:#e5e7eb; }
    html,body { background:var(--bg); color:var(--text); font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
    .wrap { max-width:1200px; margin:0 auto; padding:16px; }
    .top { display:flex; gap:12px; align-items:center; position:sticky; top:0; background:var(--bg); padding:12px 0; z-index:5; }
    .pill { background:var(--pill); border:1px solid #1e2b45; padding:4px 10px; border-radius:999px; font-size:12px; }
    .btn { background:#1f2937; border:1px solid #374151; color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer; }
    .btn[disabled] { opacity:.5; cursor:not-allowed; }
    .btn-ghost { background:transparent; }
    .card { background:var(--card); border:1px solid var(--line); border-radius:12px; padding:12px; }
    .hint { color:var(--muted); font-size:12px; }
    input,select,textarea { background:#0b1328; color:var(--text); border:1px solid #1e2b45; border-radius:10px; padding:8px; outline:none; width:100%; box-sizing:border-box; }
    .grid3 { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:12px; }
    .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    .flex { display:flex; gap:8px; align-items:center; }
    .space { height:10px; }
    #playersList { max-height:60vh; overflow:auto; }
    .rowp { padding:8px; border:1px solid var(--line); border-radius:8px; margin-bottom:6px; cursor:pointer; }
    .rowp.active { outline:2px solid #2563eb; }
    .ok { color:#10b981; }
    .warn { color:#f59e0b; }
    .err { color:#ef4444; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div style="font-weight:700;">HRB Auction Assistant</div>
      <div class="pill">Round: <b id="roundNo">1</b></div>
      <div class="pill">Timer <span id="timer">00:45</span></div>
      <button id="btn-timer-start" class="btn btn-ghost">Start</button>
      <button id="btn-timer-stop" class="btn btn-ghost">Stop</button>
      <button id="btn-timer-reset" class="btn btn-ghost">Reset</button>
      <div style="flex:1"></div>
      <button id="btn-undo" class="btn btn-ghost" disabled>Undo</button>
      <button id="btn-export" class="btn btn-ghost">Export Won CSV</button>
      <button id="btn-export-all" class="btn btn-ghost">Export State CSV</button>
    </div>

    <div class="space"></div>

    <div class="grid3">
      <section class="card">
        <div class="flex" style="justify-content:space-between"><b>Players</b><span class="hint" id="playersCount">(0)</span></div>
        <div class="space"></div>
        <div class="grid2">
          <label>CSV URL
            <input id="csvUrl" value="https://docs.google.com/spreadsheets/d/e/2PACX-1vRlqBcvOAKBWuOGnZiWgGlYNxvTGDqtW91J03SnFdy-B-VVGaCppnvhtYkCPnRo4MnHYe414aDVmHRs/pub?gid=0&single=true&output=csv" />
          </label>
          <div class="flex" style="align-items:flex-end;">
            <button id="btn-fetch" class="btn">Fetch</button>
            <button id="btn-import" class="btn btn-ghost">Import (from text)</button>
          </div>
        </div>
        <label class="space"></label>
        <label>Or paste CSV here
          <textarea id="csvText" rows="5" placeholder="Paste CSV…"></textarea>
        </label>
        <div id="csvMsg" class="hint"></div>
        <div class="space"></div>
        <div id="playersList"></div>
      </section>

      <section class="card">
        <b>Live Bid</b>
        <div id="liveCard" class="hint" style="margin-top:6px;">Pick a player from the list.</div>
        <div class="space"></div>
        <div id="insights"></div>
        <div class="space"></div>
        <div class="pill">Constraints: WK 2 · LHB 2 · Bowl 8</div>
        <div id="compliance" class="hint" style="margin-top:6px;"></div>
        <div id="health" class="hint" style="margin-top:6px;"></div>
      </section>

      <section class="card">
        <b>HRB Selected Squad</b>
        <div id="squad" style="margin-top:6px;"></div>
        <div class="space"></div>
        <b>Other Clubs</b>
        <div id="clubs" style="margin-top:6px;"></div>
      </section>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
